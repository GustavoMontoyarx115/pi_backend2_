# ğŸ“š Sistema de Inventario - API REST con Spring Boot

<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->
<!-- AUTO-UPDATE:START -->
ğŸ“… Ãšltima actualizaciÃ³n: 2025-10-04 21:24:19

## Ãšltimos commits
- 3d24a61 se crea nuevo readme (ğŸ‘¤ Gustavo, 2025-10-04)
<!-- AUTO-UPDATE:END -->

Una API REST completa desarrollada con Spring Boot para gestionar un sistema de inventario que incluye usuarios, artÃ­culos, prÃ©stamos e historial.


Una API REST completa desarrollada con Spring Boot para gestionar un sistema de inventario que incluye usuarios, artÃ­culos, prÃ©stamos e historial.

## ğŸš€ CaracterÃ­sticas

- **CRUD Completo**: Operaciones Create, Read, Update, Delete para todas las entidades
- **Arquitectura en Capas**: Controladores, Servicios, Repositorios y Entidades
- **Base de Datos**: IntegraciÃ³n con PostgreSQL usando JPA/Hibernate
- **Seguridad**: AutenticaciÃ³n HTTP Basic con Spring Security
- **DocumentaciÃ³n API**: OpenAPI/Swagger con interfaz interactiva
- **Validaciones**: Bean Validation y validaciones de negocio personalizadas
- **Manejo de Errores**: Respuestas de error consistentes y centralizadas
- **Monitoreo**: Endpoints de monitoreo con Spring Boot Actuator
- **DocumentaciÃ³n**: Tutorial completo paso a paso

## ğŸ“‹ Requisitos Previos

Antes de ejecutar el proyecto, asegÃºrate de tener instalado:

- **Java 17** o superior
- **Maven 3.6+**
- **PostgreSQL 12+**
- **Git**

## âš™ï¸ ConfiguraciÃ³n del Proyecto

### 1. Clonar el Repositorio

```bash
git clone <url-del-repositorio>
cd pi_backend2
```

### 2. Configurar la Base de Datos

#### Crear la Base de Datos en PostgreSQL

```sql
-- Conectarse a PostgreSQL como superusuario
psql -U postgres

-- Crear la base de datos
CREATE DATABASE inventory_system;

-- Crear usuario (opcional)
CREATE USER inventory_user WITH PASSWORD 'tu_password';
GRANT ALL PRIVILEGES ON DATABASE inventory_system TO inventory_user;
```

#### Configurar Variables de Entorno

Crea un archivo `.env` en la raÃ­z del proyecto:

```env
# ConfiguraciÃ³n de Base de Datos
DB_HOST=localhost
DB_PORT=5432
DB_NAME=inventory_system
DB_USERNAME=inventory_user
DB_PASSWORD=tu_password

# ConfiguraciÃ³n de la AplicaciÃ³n
SERVER_PORT=8080
SPRING_PROFILES_ACTIVE=dev
```

### 3. Instalar Dependencias

```bash
# Limpiar y compilar el proyecto
./mvnw clean compile

# Instalar dependencias
./mvnw dependency:resolve
```

## ğŸƒâ€â™‚ï¸ Ejecutar la AplicaciÃ³n

### OpciÃ³n 1: Usando Maven Wrapper (Recomendado)

```bash
# Ejecutar en modo desarrollo
./mvnw spring-boot:run
```

### OpciÃ³n 2: Usando JAR compilado

```bash
# Compilar el proyecto
./mvnw clean package -DskipTests

# Ejecutar el JAR
java -jar target/pi_backend2-0.0.1-SNAPSHOT.jar
```

### OpciÃ³n 3: Desde el IDE

1. Importar el proyecto como proyecto Maven
2. Configurar las variables de entorno
3. Ejecutar la clase `PiBackend2Application.java`

## ğŸ” Verificar la InstalaciÃ³n

### 1. Verificar que la aplicaciÃ³n estÃ© ejecutÃ¡ndose

```bash
curl http://localhost:8080/actuator/health
```

**Respuesta esperada:**
json
{"status":"UP"}

### 2. Verificar endpoints principales

```bash
# Listar usuarios
curl http://localhost:8080/api/users

# Listar artÃ­culos
curl http://localhost:8080/api/items

# Listar prÃ©stamos
curl http://localhost:8080/api/loans
```

## ğŸ“š Endpoints Disponibles

### ğŸ‘¥ Usuarios (`/api/users`)
- `GET /api/users` - Listar todos los usuarios
- `GET /api/users/{id}` - Obtener usuario por ID
- `POST /api/users` - Crear nuevo usuario
- `PUT /api/users/{id}` - Actualizar usuario
- `DELETE /api/users/{id}` - Eliminar usuario

### ğŸ“¦ ArtÃ­culos (`/api/items`)
- `GET /api/items` - Listar todos los artÃ­culos
- `GET /api/items/{id}` - Obtener artÃ­culo por ID
- `POST /api/items` - Crear nuevo artÃ­culo
- `PUT /api/items/{id}` - Actualizar artÃ­culo
- `DELETE /api/items/{id}` - Eliminar artÃ­culo

### ğŸ”„ PrÃ©stamos (`/api/loans`)
- `GET /api/loans` - Listar todos los prÃ©stamos
- `GET /api/loans/{id}` - Obtener prÃ©stamo por ID
- `POST /api/loans` - Crear nuevo prÃ©stamo
- `PUT /api/loans/{id}` - Actualizar prÃ©stamo
- `DELETE /api/loans/{id}` - Eliminar prÃ©stamo

### ğŸ“Š Monitoreo (`/actuator`)
- `GET /actuator/health` - Estado de la aplicaciÃ³n
- `GET /actuator/info` - InformaciÃ³n de la aplicaciÃ³n
- `GET /actuator/metrics` - MÃ©tricas de la aplicaciÃ³n

### ğŸ“– DocumentaciÃ³n API (`/swagger-ui`)
- `GET /swagger-ui.html` - Interfaz interactiva de Swagger UI
- `GET /v3/api-docs` - EspecificaciÃ³n OpenAPI en formato JSON
- `GET /v3/api-docs.yaml` - EspecificaciÃ³n OpenAPI en formato YAML

## ğŸ§ª Probar la API

### ğŸ” AutenticaciÃ³n

La API utiliza autenticaciÃ³n HTTP Basic. Credenciales de prueba:

- **Admin**: `admin` / `admin123` (acceso completo)
- **User**: `user` / `user123` (acceso limitado)

### ğŸ“– Swagger UI (Recomendado)

La forma mÃ¡s fÃ¡cil de probar la API es usando Swagger UI:

1. Inicia la aplicaciÃ³n: `mvnw.cmd spring-boot:run`
2. Abre tu navegador en: `http://localhost:8080/swagger-ui.html`
3. Haz clic en **"Authorize"** e ingresa las credenciales
4. Explora y prueba todos los endpoints interactivamente

### ğŸ”§ Usando cURL

#### Crear un Usuario (requiere rol ADMIN)

```bash
curl -X POST http://localhost:8080/api/users \
  -H "Content-Type: application/json" \
  -H "Authorization: Basic YWRtaW46YWRtaW4xMjM=" \
  -d '{
    "username": "juan.perez",
    "email": "juan@example.com",
    "password": "password123",
    "role": "USER"
  }'
```

#### Crear un ArtÃ­culo (requiere autenticaciÃ³n)

```bash
curl -X POST http://localhost:8080/api/items \
  -H "Content-Type: application/json" \
  -H "Authorization: Basic dXNlcjp1c2VyMTIz" \
  -d '{
    "name": "Laptop Dell",
    "description": "Laptop para desarrollo",
    "category": "ELECTRONICS",
    "quantity": 5,
    "available": true
  }'
```

#### Crear un PrÃ©stamo (requiere autenticaciÃ³n)

```bash
curl -X POST http://localhost:8080/api/loans \
  -H "Content-Type: application/json" \
  -H "Authorization: Basic dXNlcjp1c2VyMTIz" \
  -d '{
    "userId": 1,
    "itemId": 1,
    "quantity": 1,
    "loanDate": "2024-01-15",
    "expectedReturnDate": "2024-01-30"
  }'
```

## ğŸ› ï¸ Scripts de Utilidad

### Script de Pruebas (PowerShell)

Ejecuta el script incluido para probar todos los endpoints:

```powershell
.\test-endpoints.ps1
```

## ğŸ“– DocumentaciÃ³n Completa

Para aprender cÃ³mo se construyÃ³ este proyecto paso a paso, consulta la documentaciÃ³n completa en la carpeta `doc/`:

- [**Tutorial Completo**](doc/README.md) - GuÃ­a paso a paso
- [ConfiguraciÃ³n Inicial](doc/01-configuracion-inicial.md)
- [Base de Datos y JPA](doc/02-configuracion-database.md)
- [Entidades y Modelos](doc/03-entidades-modelos.md)
- [DTOs y Mapeo](doc/04-dtos-mapeo.md)
- [Repositorios](doc/05-repositorios-acceso-datos.md)
- [Servicios](doc/06-servicios-logica-negocio.md)
- [Controladores REST](doc/07-controladores-rest.md)
- [Monitoreo con Actuator](doc/08-actuator-monitoreo.md)
- [Validaciones y Errores](doc/09-validacion-manejo-errores.md)
- [Spring Security](doc/10-spring-security-implementacion.md)
- [OpenAPI/Swagger](doc/11-openapi-swagger-documentacion.md)

## ğŸ› SoluciÃ³n de Problemas

### Error de ConexiÃ³n a Base de Datos

```
Caused by: org.postgresql.util.PSQLException: Connection refused
```

**SoluciÃ³n:**
1. Verificar que PostgreSQL estÃ© ejecutÃ¡ndose
2. Comprobar las credenciales en el archivo `.env`
3. Verificar que la base de datos existe

### Puerto ya en uso

```
Port 8080 was already in use
```

**SoluciÃ³n:**
1. Cambiar el puerto en `.env`: `SERVER_PORT=8081`
2. O terminar el proceso que usa el puerto 8080

### Error de compilaciÃ³n

```
Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin
```

**SoluciÃ³n:**
1. Verificar que tienes Java 17+: `java -version`
2. Limpiar y recompilar: `./mvnw clean compile`

## ğŸ¤ Contribuir

1. Fork el proyecto
2. Crea una rama para tu feature (`git checkout -b feature/nueva-funcionalidad`)
3. Commit tus cambios (`git commit -am 'Agregar nueva funcionalidad'`)
4. Push a la rama (`git push origin feature/nueva-funcionalidad`)
5. Abre un Pull Request

## ğŸ“„ Licencia

Este proyecto estÃ¡ bajo la Licencia MIT. Ver el archivo `LICENSE` para mÃ¡s detalles.

## ğŸ‘¨â€ğŸ’» Autor

Desarrollado como proyecto educativo para aprender Spring Boot y desarrollo de APIs REST.

---

**Â¿Necesitas ayuda?** Consulta la [documentaciÃ³n completa](doc/README.md) o abre un issue en el repositorio.

